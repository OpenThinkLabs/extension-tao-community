require("core-js/modules/es7.symbol.async-iterator"),require("core-js/modules/es6.symbol"),require("core-js/modules/es6.object.assign"),require("core-js/modules/es6.function.bind"),require("core-js/modules/es6.array.find");function _typeof(a){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},_typeof(a)}define("taoCe/controller/home/custom-scrollbar",["jquery"],function(a){(function(a){a.fn.customScrollbar=function(b,c){var d=Math.max,e={skin:void 0,hScroll:!0,vScroll:!0,updateOnWindowResize:!1,animationSpeed:300,onCustomScroll:void 0,swipeSpeed:1,wheelSpeed:40,fixedThumbWidth:void 0,fixedThumbHeight:void 0,preventDefaultScroll:!1},f=function(b,c){this.$element=a(b),this.options=c,this.addScrollableClass(),this.addSkinClass(),this.addScrollBarComponents(),this.options.vScroll&&(this.vScrollbar=new g(this,new i())),this.options.hScroll&&(this.hScrollbar=new g(this,new h())),this.$element.data("scrollable",this),this.initKeyboardScrolling(),this.bindEvents()};f.prototype={addScrollableClass:function addScrollableClass(){this.$element.hasClass("scrollable")||(this.scrollableAdded=!0,this.$element.addClass("scrollable"))},removeScrollableClass:function removeScrollableClass(){this.scrollableAdded&&this.$element.removeClass("scrollable")},addSkinClass:function addSkinClass(){"string"!=typeof this.options.skin||this.$element.hasClass(this.options.skin)||(this.skinClassAdded=!0,this.$element.addClass(this.options.skin))},removeSkinClass:function removeSkinClass(){this.skinClassAdded&&this.$element.removeClass(this.options.skin)},addScrollBarComponents:function addScrollBarComponents(){this.assignViewPort(),0==this.$viewPort.length&&(this.$element.wrapInner("<div class=\"viewport\" />"),this.assignViewPort(),this.viewPortAdded=!0),this.assignOverview(),0==this.$overview.length&&(this.$viewPort.wrapInner("<div class=\"overview\" />"),this.assignOverview(),this.overviewAdded=!0),this.addScrollBar("vertical","prepend"),this.addScrollBar("horizontal","append")},removeScrollbarComponents:function removeScrollbarComponents(){this.removeScrollbar("vertical"),this.removeScrollbar("horizontal"),this.overviewAdded&&this.$element.unwrap(),this.viewPortAdded&&this.$element.unwrap()},removeScrollbar:function removeScrollbar(a){this[a+"ScrollbarAdded"]&&this.$element.find(".scroll-bar."+a).remove()},assignViewPort:function assignViewPort(){this.$viewPort=this.$element.find(".viewport")},assignOverview:function assignOverview(){this.$overview=this.$viewPort.find(".overview")},addScrollBar:function addScrollBar(a,b){0==this.$element.find(".scroll-bar."+a).length&&(this.$element[b]("<div class='scroll-bar "+a+"'><div class='thumb'></div></div>"),this[a+"ScrollbarAdded"]=!0)},resize:function resize(a){this.vScrollbar&&this.vScrollbar.resize(a),this.hScrollbar&&this.hScrollbar.resize(a)},scrollTo:function scrollTo(a){this.vScrollbar&&this.vScrollbar.scrollToElement(a),this.hScrollbar&&this.hScrollbar.scrollToElement(a)},scrollToXY:function scrollToXY(a,b){this.scrollToX(a),this.scrollToY(b)},scrollToX:function scrollToX(a){this.hScrollbar&&this.hScrollbar.scrollOverviewTo(a,!0)},scrollToY:function scrollToY(a){this.vScrollbar&&this.vScrollbar.scrollOverviewTo(a,!0)},scrollByX:function scrollByX(a){this.hScrollbar&&this.scrollToX(this.hScrollbar.overviewPosition()+a)},scrollByY:function scrollByY(a){this.vScrollbar&&this.scrollToY(this.vScrollbar.overviewPosition()+a)},remove:function remove(){this.removeScrollableClass(),this.removeSkinClass(),this.removeScrollbarComponents(),this.$element.data("scrollable",null),this.removeKeyboardScrolling(),this.vScrollbar&&this.vScrollbar.remove(),this.hScrollbar&&this.hScrollbar.remove()},setAnimationSpeed:function setAnimationSpeed(a){this.options.animationSpeed=a},isInside:function isInside(b,c){var d=a(b),e=a(c),f=d.offset(),g=e.offset();return f.top>=g.top&&f.left>=g.left&&f.top+d.height()<=g.top+e.height()&&f.left+d.width()<=g.left+e.width()},initKeyboardScrolling:function initKeyboardScrolling(){var a=this;this.elementKeydown=function(b){document.activeElement===a.$element[0]&&(a.vScrollbar&&a.vScrollbar.keyScroll(b),a.hScrollbar&&a.hScrollbar.keyScroll(b))},this.$element.attr("tabindex","-1").keydown(this.elementKeydown)},removeKeyboardScrolling:function removeKeyboardScrolling(){this.$element.removeAttr("tabindex").unbind("keydown",this.elementKeydown)},bindEvents:function bindEvents(){this.options.onCustomScroll&&this.$element.on("customScroll",this.options.onCustomScroll)}};var g=function(a,b){this.scrollable=a,this.sizing=b,this.$scrollBar=this.sizing.scrollBar(this.scrollable.$element),this.$thumb=this.$scrollBar.find(".thumb"),this.setScrollPosition(0,0),this.resize(),this.initMouseMoveScrolling(),this.initMouseWheelScrolling(),this.initTouchScrolling(),this.initMouseClickScrolling(),this.initWindowResize()};g.prototype={resize:function resize(a){this.overviewSize=this.sizing.size(this.scrollable.$overview),this.calculateViewPortSize(),this.sizing.size(this.scrollable.$viewPort,this.viewPortSize),this.ratio=this.viewPortSize/this.overviewSize,this.sizing.size(this.$scrollBar,this.viewPortSize),this.thumbSize=this.calculateThumbSize(),this.sizing.size(this.$thumb,this.thumbSize),this.maxThumbPosition=this.calculateMaxThumbPosition(),this.maxOverviewPosition=this.calculateMaxOverviewPosition(),this.enabled=this.overviewSize>this.viewPortSize,void 0===this.scrollPercent&&(this.scrollPercent=0),this.enabled?this.rescroll(a):this.setScrollPosition(0,0),this.$scrollBar.toggle(this.enabled)},calculateViewPortSize:function calculateViewPortSize(){var a=Math.min,b=this.sizing.size(this.scrollable.$element);if(0<b&&!this.maxSizeUsed)this.viewPortSize=b,this.maxSizeUsed=!1;else{var c=this.sizing.maxSize(this.scrollable.$element);this.viewPortSize=a(c,this.overviewSize),this.maxSizeUsed=!0}},calculateThumbSize:function calculateThumbSize(){var a,b=this.sizing.fixedThumbSize(this.scrollable.options);return a=b?b:this.ratio*this.viewPortSize,d(a,this.sizing.minSize(this.$thumb))},initMouseMoveScrolling:function initMouseMoveScrolling(){var b=this;this.$thumb.mousedown(function(a){b.enabled&&b.startMouseMoveScrolling(a)}),this.documentMouseup=function(a){b.stopMouseMoveScrolling(a)},a(document).mouseup(this.documentMouseup),this.documentMousemove=function(a){b.mouseMoveScroll(a)},a(document).mousemove(this.documentMousemove),this.$thumb.click(function(a){a.stopPropagation()})},removeMouseMoveScrolling:function removeMouseMoveScrolling(){this.$thumb.unbind(),a(document).unbind("mouseup",this.documentMouseup),a(document).unbind("mousemove",this.documentMousemove)},initMouseWheelScrolling:function initMouseWheelScrolling(){var a=this;this.scrollable.$element.mousewheel(function(b,c,d,e){if(a.enabled){var f=a.mouseWheelScroll(d,e);a.stopEventConditionally(b,f)}})},removeMouseWheelScrolling:function removeMouseWheelScrolling(){this.scrollable.$element.unbind("mousewheel")},initTouchScrolling:function initTouchScrolling(){if(document.addEventListener){var a=this;this.elementTouchstart=function(b){a.enabled&&a.startTouchScrolling(b)},this.scrollable.$element[0].addEventListener("touchstart",this.elementTouchstart),this.documentTouchmove=function(b){a.touchScroll(b)},document.addEventListener("touchmove",this.documentTouchmove),this.elementTouchend=function(b){a.stopTouchScrolling(b)},this.scrollable.$element[0].addEventListener("touchend",this.elementTouchend)}},removeTouchScrolling:function removeTouchScrolling(){document.addEventListener&&(this.scrollable.$element[0].removeEventListener("touchstart",this.elementTouchstart),document.removeEventListener("touchmove",this.documentTouchmove),this.scrollable.$element[0].removeEventListener("touchend",this.elementTouchend))},initMouseClickScrolling:function initMouseClickScrolling(){var a=this;this.scrollBarClick=function(b){a.mouseClickScroll(b)},this.$scrollBar.click(this.scrollBarClick)},removeMouseClickScrolling:function removeMouseClickScrolling(){this.$scrollBar.unbind("click",this.scrollBarClick)},initWindowResize:function initWindowResize(){if(this.scrollable.options.updateOnWindowResize){var b=this;this.windowResize=function(){b.resize()},a(window).resize(this.windowResize)}},removeWindowResize:function removeWindowResize(){a(window).unbind("resize",this.windowResize)},isKeyScrolling:function isKeyScrolling(a){return null!=this.keyScrollDelta(a)},keyScrollDelta:function keyScrollDelta(a){for(var b in this.sizing.scrollingKeys)if(b==a)return this.sizing.scrollingKeys[a](this.viewPortSize);return null},startMouseMoveScrolling:function startMouseMoveScrolling(b){this.mouseMoveScrolling=!0,a("html").addClass("not-selectable"),this.setUnselectable(a("html"),"on"),this.setScrollEvent(b)},stopMouseMoveScrolling:function stopMouseMoveScrolling(){this.mouseMoveScrolling=!1,a("html").removeClass("not-selectable"),this.setUnselectable(a("html"),null)},setUnselectable:function setUnselectable(a,b){a.attr("unselectable")!=b&&(a.attr("unselectable",b),a.find(":not(input)").attr("unselectable",b))},mouseMoveScroll:function mouseMoveScroll(a){if(this.mouseMoveScrolling){var b=this.sizing.mouseDelta(this.scrollEvent,a);this.scrollThumbBy(b),this.setScrollEvent(a)}},startTouchScrolling:function startTouchScrolling(a){a.touches&&1==a.touches.length&&(this.setScrollEvent(a.touches[0]),this.touchScrolling=!0,a.stopPropagation())},touchScroll:function touchScroll(a){if(this.touchScrolling&&a.touches&&1==a.touches.length){var b=-this.sizing.mouseDelta(this.scrollEvent,a.touches[0])*this.scrollable.options.swipeSpeed,c=this.scrollOverviewBy(b);c&&this.setScrollEvent(a.touches[0]),this.stopEventConditionally(a,c)}},stopTouchScrolling:function stopTouchScrolling(a){this.touchScrolling=!1,a.stopPropagation()},mouseWheelScroll:function mouseWheelScroll(a,b){var c=-this.sizing.wheelDelta(a,b)*this.scrollable.options.wheelSpeed;if(0!=c)return this.scrollOverviewBy(c)},mouseClickScroll:function mouseClickScroll(a){var b=this.viewPortSize-20;a["page"+this.sizing.scrollAxis()]<this.$thumb.offset()[this.sizing.offsetComponent()]&&(b=-b),this.scrollOverviewBy(b)},keyScroll:function keyScroll(a){var b=a.which;if(this.enabled&&this.isKeyScrolling(b)){var c=this.scrollOverviewBy(this.keyScrollDelta(b));this.stopEventConditionally(a,c)}},scrollThumbBy:function scrollThumbBy(a){var b=this.thumbPosition();b+=a,b=this.positionOrMax(b,this.maxThumbPosition);var c=this.scrollPercent;if(this.scrollPercent=b/this.maxThumbPosition,c!=this.scrollPercent){var d=b*this.maxOverviewPosition/this.maxThumbPosition;return this.setScrollPosition(d,b),this.triggerCustomScroll(c),!0}return!1},thumbPosition:function thumbPosition(){return this.$thumb.position()[this.sizing.offsetComponent()]},scrollOverviewBy:function scrollOverviewBy(a){var b=this.overviewPosition()+a;return this.scrollOverviewTo(b,!1)},overviewPosition:function overviewPosition(){return-this.scrollable.$overview.position()[this.sizing.offsetComponent()]},scrollOverviewTo:function scrollOverviewTo(a,b){a=this.positionOrMax(a,this.maxOverviewPosition);var c=this.scrollPercent;if(this.scrollPercent=a/this.maxOverviewPosition,c!=this.scrollPercent){var d=this.scrollPercent*this.maxThumbPosition;return b?this.setScrollPositionWithAnimation(a,d):this.setScrollPosition(a,d),this.triggerCustomScroll(c),!0}return!1},positionOrMax:function positionOrMax(a,b){return 0>a?0:a>b?b:a},triggerCustomScroll:function triggerCustomScroll(a){this.scrollable.$element.trigger("customScroll",{scrollAxis:this.sizing.scrollAxis(),direction:this.sizing.scrollDirection(a,this.scrollPercent),scrollPercent:100*this.scrollPercent})},rescroll:function rescroll(a){if(a){var b=this.positionOrMax(this.overviewPosition(),this.maxOverviewPosition);this.scrollPercent=b/this.maxOverviewPosition;var c=this.scrollPercent*this.maxThumbPosition;this.setScrollPosition(b,c)}else{var c=this.scrollPercent*this.maxThumbPosition,b=this.scrollPercent*this.maxOverviewPosition;this.setScrollPosition(b,c)}},setScrollPosition:function setScrollPosition(a,b){this.$thumb.css(this.sizing.offsetComponent(),b+"px"),this.scrollable.$overview.css(this.sizing.offsetComponent(),-a+"px")},setScrollPositionWithAnimation:function setScrollPositionWithAnimation(a,b){var c={},d={};c[this.sizing.offsetComponent()]=b+"px",this.$thumb.animate(c,this.scrollable.options.animationSpeed),d[this.sizing.offsetComponent()]=-a+"px",this.scrollable.$overview.animate(d,this.scrollable.options.animationSpeed)},calculateMaxThumbPosition:function calculateMaxThumbPosition(){return d(0,this.sizing.size(this.$scrollBar)-this.thumbSize)},calculateMaxOverviewPosition:function calculateMaxOverviewPosition(){return d(0,this.sizing.size(this.scrollable.$overview)-this.sizing.size(this.scrollable.$viewPort))},setScrollEvent:function setScrollEvent(a){var b="page"+this.sizing.scrollAxis();this.scrollEvent&&this.scrollEvent[b]==a[b]||(this.scrollEvent={pageX:a.pageX,pageY:a.pageY})},scrollToElement:function scrollToElement(b){var c=a(b);if(this.sizing.isInside(c,this.scrollable.$overview)&&!this.sizing.isInside(c,this.scrollable.$viewPort)){var d=c.offset(),e=this.scrollable.$overview.offset(),f=this.scrollable.$viewPort.offset();this.scrollOverviewTo(d[this.sizing.offsetComponent()]-e[this.sizing.offsetComponent()],!0)}},remove:function remove(){this.removeMouseMoveScrolling(),this.removeMouseWheelScrolling(),this.removeTouchScrolling(),this.removeMouseClickScrolling(),this.removeWindowResize()},stopEventConditionally:function stopEventConditionally(a,b){(b||this.scrollable.options.preventDefaultScroll)&&(a.preventDefault(),a.stopPropagation())}};var h=function(){};h.prototype={size:function size(a,b){return b?a.width(b):a.width()},minSize:function minSize(a){return parseInt(a.css("min-width"))||0},maxSize:function maxSize(a){return parseInt(a.css("max-width"))||0},fixedThumbSize:function fixedThumbSize(a){return a.fixedThumbWidth},scrollBar:function scrollBar(a){return a.find(".scroll-bar.horizontal")},mouseDelta:function mouseDelta(a,b){return b.pageX-a.pageX},offsetComponent:function offsetComponent(){return"left"},wheelDelta:function wheelDelta(a){return a},scrollAxis:function scrollAxis(){return"X"},scrollDirection:function scrollDirection(a,b){return a<b?"right":"left"},scrollingKeys:{37:function _(){return-10},39:function _(){return 10}},isInside:function isInside(b,c){var d=a(b),e=a(c),f=d.offset(),g=e.offset();return f.left>=g.left&&f.left+d.width()<=g.left+e.width()}};var i=function(){};return i.prototype={size:function size(a,b){return b?a.height(b):a.height()},minSize:function minSize(a){return parseInt(a.css("min-height"))||0},maxSize:function maxSize(a){return parseInt(a.css("max-height"))||0},fixedThumbSize:function fixedThumbSize(a){return a.fixedThumbHeight},scrollBar:function scrollBar(a){return a.find(".scroll-bar.vertical")},mouseDelta:function mouseDelta(a,b){return b.pageY-a.pageY},offsetComponent:function offsetComponent(){return"top"},wheelDelta:function wheelDelta(a,b){return b},scrollAxis:function scrollAxis(){return"Y"},scrollDirection:function scrollDirection(a,b){return a<b?"down":"up"},scrollingKeys:{38:function _(){return-10},40:function _(){return 10},33:function _(a){return-(a-20)},34:function _(a){return a-20}},isInside:function isInside(b,c){var d=a(b),e=a(c),f=d.offset(),g=e.offset();return f.top>=g.top&&f.top+d.height()<=g.top+e.height()}},this.each(function(){if(null==b&&(b=e),"string"==typeof b){var d=a(this).data("scrollable");d&&d[b](c)}else if("object"==_typeof(b))b=a.extend(e,b),new f(a(this),b);else throw"Invalid type of options"})}})(a),function(a){function b(b){var c=b||window.event,d=[].slice.call(arguments,1),e=0,f=0,g=0;return b=a.event.fix(c),b.type="mousewheel",c.wheelDelta&&(e=c.wheelDelta/120),c.detail&&(e=-c.detail/3),g=e,void 0!==c.axis&&c.axis===c.HORIZONTAL_AXIS&&(g=0,f=e),void 0!==c.wheelDeltaY&&(g=c.wheelDeltaY/120),void 0!==c.wheelDeltaX&&(f=c.wheelDeltaX/120),d.unshift(b,e,f,g),(a.event.dispatch||a.event.handle).apply(this,d)}var c=["DOMMouseScroll","mousewheel"];if(a.event.fixHooks)for(var d=c.length;d;)a.event.fixHooks[c[--d]]=a.event.mouseHooks;a.event.special.mousewheel={setup:function setup(){if(this.addEventListener)for(var a=c.length;a;)this.addEventListener(c[--a],b,!1);else this.onmousewheel=b},teardown:function teardown(){if(this.removeEventListener)for(var a=c.length;a;)this.removeEventListener(c[--a],b,!1);else this.onmousewheel=null}},a.fn.extend({mousewheel:function mousewheel(a){return a?this.bind("mousewheel",a):this.trigger("mousewheel")},unmousewheel:function unmousewheel(a){return this.unbind("mousewheel",a)}})}(a)}),define("taoCe/controller/home/splash",["jquery","taoCe/controller/home/custom-scrollbar"],function(a){'use strict';return{init:function init(b){this.$splashScreen=a("#splash-screen");var c=a(".splash-screen-wrapper"),d=a(".desc",this.$splashScreen),e=a(".diagram",this.$splashScreen);this.redirectUrl="",c.css("display","block"),b?a(".modal-footer",this.$splashScreen).show():a(".modal-footer",this.$splashScreen).hide(),a("[data-module-name]",e).each(function(){var b=a(this);b.hasClass("disabled")&&(b.find("span").remove(),b.prepend("<span class=\"icon-lock\"></span>"))}),d.customScrollbar({updateOnWindowResize:!0,skin:"gray-skin",hScroll:!1}),this.$splashScreen.modal({disableClosing:b}),this.initNav(),this.initModulesNav(),this.initCloseButton()},initNav:function initNav(){a(".modal-nav a",this.$splashScreen).on("click",function(){var b=a(this),c=b.data("panel");a(".modal-nav li").removeClass("active"),a("a[data-panel='"+c+"']").parent().addClass("active"),a(".panels").hide(),a("div[data-panel-id='"+c+"']").show()})},initModulesNav:function initModulesNav(){var b=this;a("[data-module-name]",this.$splashScreen).not(".disabled").on("click",function(){var c=a(this),d=c.data("module-name");if(b.redirectUrl=c.data("url"),a("#splash-close-btn").removeAttr("disabled").find(".module-name").text(c.text()),!c.hasClass("new-module")){var e=c.hasClass("groups")?a(".test-takers").find("span").first().attr("class"):c.find("span").first().attr("class");a(".module-desc>span").attr({class:e})}else a(".module-desc>span").attr({class:""});a("[data-module-name]").removeClass("active"),a(".module-desc").hide(),c.addClass("active"),a("div[data-module='"+d+"']").show(),a(".desc").customScrollbar("resize",!0)})},initCloseButton:function initCloseButton(){var b=this,c=a("#splash-close-btn");a(document).on("keypress",function(a){13===a.which&&c.trigger("click")}),this.$splashScreen.on("closed.modal",function(){a(document).off("keypress")}),c.on("click",function(c){c.preventDefault(),a("#nosplash").prop("checked")&&(b.redirectUrl+="&nosplash=true"),b.closeSplash(b.redirectUrl)})},closeSplash:function closeSplash(a){window.location=a},adaptHeight:function adaptHeight(){var b=this,c=b.find(".splash-content-wrap"),d=a(window).height()-b.find(".modal-title").offset().top-40;c.css({maxHeight:d})}}}),define("taoCe/controller/home",["jquery","util/url","taoCe/controller/home/splash"],function(a,b,c){'use strict';var d=a("body");return{entrySplash:!0,start:function(){var e=this;0===a("#splash-screen",d).length?a.get(b.route("splash","Home","taoCe")).success(function(b){var f=a(b);f.css("display","none"),d.append(f),c.init(e.entrySplash)}):c.init(this.entrySplash)}}}),define("taoCe/controller/help",["taoCe/controller/home"],function(a){'use strict';return Object.assign({entrySplash:!1},a)}),define("taoCe/controller/routes",[],function(){'use strict';return{Home:{css:"home.css"},Main:{actions:{index:"controller/home"}}}}),define("taoCe/loader/taoCe.bundle",function(){});